[{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/AGENTS.html","id":"project-structure--module-organization","dir":"","previous_headings":"","what":"Project Structure & Module Organization","title":"Repository Guidelines","text":"R/: Package source code (exported internal functions). man/: Generated .Rd documentation (roxygen2 comments R/). tests/testthat/: Unit tests (testthat). tests/testthat.R: testthat entrypoint used R CMD check. data/: Package data assets (present/added later). _pkgdown.yml: pkgdown site configuration.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/AGENTS.html","id":"build-test-and-development-commands","dir":"","previous_headings":"","what":"Build, Test, and Development Commands","title":"Repository Guidelines","text":"Use Makefile targets (preferred) run underlying R commands directly: make dependencies: Install package dependencies via devtools. make test: Run testthat tests. make check: Run package checks (similar R CMD check). make document: Regenerate docs (NAMESPACE + man/) roxygen comments. make build: Build package tarball. make interactive: Start interactive R session load.R profile tweaks.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/AGENTS.html","id":"coding-style--naming-conventions","dir":"","previous_headings":"","what":"Coding Style & Naming Conventions","title":"Repository Guidelines","text":"Language: R. Prefer 2-space indentation, <- assignment, explicit argument names public APIs. Naming: snake_case functions/variables (e.g., summary_block(), assign_CRE()). Documentation: Use roxygen2 blocks (#') functions; hand-edit NAMESPACE. Linting: lintr configured via .lintr (run lintr::lint_package() making non-trivial changes).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/AGENTS.html","id":"testing-guidelines","dir":"","previous_headings":"","what":"Testing Guidelines","title":"Repository Guidelines","text":"Framework: testthat v3 (tests/testthat/). Conventions: keep tests tests/testthat/test-*.R cover bug fixes regression test. Run locally: make test (fast) make check opening PR.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/AGENTS.html","id":"commit--pull-request-guidelines","dir":"","previous_headings":"","what":"Commit & Pull Request Guidelines","title":"Repository Guidelines","text":"Commits: history favors short, imperative messages (e.g., “Add lintr”, “Update description”, “Fix pkgdown workflow”). PRs: include clear summary, link relevant issue, note user-facing changes (API/docs). Ensure make check passes update docs/tests behavior changes.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/AGENTS.html","id":"dependencies--solver-notes","dir":"","previous_headings":"","what":"Dependencies & Solver Notes","title":"Repository Guidelines","text":"Optional solvers: highs gurobi suggested; code degrade gracefully ’re installed. Avoid adding hard dependencies unless required core functionality.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md","title":"CLAUDE.md","text":"file provides guidance Claude Code (claude.ai/code) working code repository.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"package-overview","dir":"","previous_headings":"","what":"Package Overview","title":"CLAUDE.md","text":"CMRSS (Combining Multiple Rank Sum Statistics) R package randomization inference quantiles individual treatment effects. implements methods Kim Li (2024) combining multiple rank sum statistics improve power testing hypotheses treatment effect quantiles. package supports: - Completely Randomized Experiments (CRE): Functions prefixed _cre - Stratified Randomized Experiments (SRE): Functions prefixed _block","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"build-and-test-commands","dir":"","previous_headings":"","what":"Build and Test Commands","title":"CLAUDE.md","text":"","code":"# Run all tests R CMD check .  # Run tests with testthat (faster iteration) Rscript -e \"devtools::test()\"  # Run a specific test file Rscript -e \"testthat::test_file('tests/testthat/test-solvers.R')\"  # Load package for development (uses devtools) Rscript load.R  # Generate documentation Rscript -e \"roxygen2::roxygenize()\"  # Install from local source R CMD INSTALL ."},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"core-module-structure","dir":"","previous_headings":"Architecture","what":"Core Module Structure","title":"CLAUDE.md","text":"","code":"R/ ├── CMRSS_CRE.R      # Completely randomized experiments ├── CMRSS_SRE.R      # Stratified randomized experiments (main file) ├── solvers.R        # Optimization solver abstraction (HiGHS/Gurobi) ├── comparison_methods.R  # Benchmark methods from literature (RIQITE wrappers) ├── data.R           # Dataset documentation (electric_teachers) └── CMRSS-package.R  # Package-level documentation"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"key-functions","dir":"","previous_headings":"Architecture","what":"Key Functions","title":"CLAUDE.md","text":"CRE (Completely Randomized Experiments): - comb_p_val_cre() - Combined p-value multiple rank statistics - com_conf_quant_larger_cre() - Confidence intervals effect quantiles SRE (Stratified Randomized Experiments): - pval_comb_block() - Combined p-value stratification - com_block_conf_quant_larger() - Confidence intervals stratification Solver Functions (R/solvers.R): - solve_optimization() - Unified solver interface (auto-selects HiGHS Gurobi) - solver_available() - Check solver installed - parse_opt_method() - Parse optimization method strings like “ILP_highs”","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"optimization-solvers","dir":"","previous_headings":"Architecture","what":"Optimization Solvers","title":"CLAUDE.md","text":"package requires optimization solver SRE methods: - HiGHS (recommended, open-source): install.packages(\"highs\") - Gurobi (commercial, requires license) opt.method parameter controls solver selection: - \"ILP_highs\" / \"LP_highs\" - Use HiGHS - \"ILP_gurobi\" / \"LP_gurobi\" - Use Gurobi - \"ILP\" / \"LP\" \"ILP_auto\" / \"LP_auto\" - Auto-select","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"rank-score-methods","dir":"","previous_headings":"Architecture","what":"Rank Score Methods","title":"CLAUDE.md","text":"Methods specified lists name field: - list(name = \"Wilcoxon\", scale = FALSE) - Standard Wilcoxon scores - list(name = \"Stephenson\", s = 3, scale = FALSE) - Stephenson scores parameter s - list(name = \"Polynomial\", r = 2, std = TRUE, scale = FALSE) - Polynomial scores SRE, methods must specified per stratum nested list structure:","code":"# H statistics, each with B block-specific methods methods.list.all <- list(   lapply(1:B, function(i) list(name = \"Polynomial\", r = 2, std = TRUE, scale = FALSE)),   lapply(1:B, function(i) list(name = \"Polynomial\", r = 6, std = TRUE, scale = FALSE)) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"dependencies","dir":"","previous_headings":"Architecture","what":"Dependencies","title":"CLAUDE.md","text":"Required: stats, utils, Matrix, RIQITE (GitHub: li-xinran/RIQITE), extraDistr Suggested: testthat, highs, gurobi, randomizr, RItools","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"testing-patterns","dir":"","previous_headings":"","what":"Testing Patterns","title":"CLAUDE.md","text":"Tests use testthat edition 3. Test files cover: - test-solvers.R - Solver availability equivalence - test-CMRSS_CRE.R / test-CMRSS_SRE.R - Main function tests - test-rank_score.R - Rank score computation - test-comparison_methods.R - Benchmark method wrappers Example test pattern:","code":"test_that(\"description\", {   skip_if_not(solver_available(\"highs\"), \"HiGHS not available\")   # test code })"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/CLAUDE.html","id":"data","dir":"","previous_headings":"","what":"Data","title":"CLAUDE.md","text":"package includes electric_teachers dataset - stratified randomized experiment Heller et al. (2010) 233 teachers across 7 sites.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 CMRSS authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"David Kim. Author, maintainer. Xinran Li. Author. Jake Bowers. Contributor.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kim D, Li X (2025). CMRSS: Combining Multiple Rank Sum Statistics. R package version 0.2.5, https://bowers-illinois-edu.github.io/CMRSS/.","code":"@Manual{,   title = {CMRSS: Combining Multiple Rank Sum Statistics},   author = {David Kim and Xinran Li},   year = {2025},   note = {R package version 0.2.5},   url = {https://bowers-illinois-edu.github.io/CMRSS/}, }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"combining-multiple-rank-sum-statistics","dir":"","previous_headings":"","what":"Combining Multiple Rank Sum Statistics","title":"Combining Multiple Rank Sum Statistics","text":"R package conducting randomization inference quantiles individual treatment effects, using combined rank sum statistics, completely randomized stratified randomized experiments","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Combining Multiple Rank Sum Statistics","text":"","code":"devtools::install_github(\"jwbowers/CMRSS\")"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"solver-dependencies","dir":"","previous_headings":"Installation","what":"Solver Dependencies","title":"Combining Multiple Rank Sum Statistics","text":"stratified randomized experiments (SRE), package requires optimization solver. two options: Option 1: HiGHS (Recommended - Open Source) HiGHS high-performance open-source solver requires license. Option 2: Gurobi (Commercial) solvers produce equivalent results. HiGHS recommended users without Gurobi license.","code":"install.packages(\"highs\") # Requires a Gurobi license (free for academics) # See: https://www.gurobi.com/documentation/current/quickstart_mac/r_ins_the_r_package.html"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"load-the-package","dir":"","previous_headings":"","what":"Load the Package","title":"Combining Multiple Rank Sum Statistics","text":"","code":"library(CMRSS)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"quick-start-stratified-randomized-experiments","dir":"","previous_headings":"","what":"Quick Start: Stratified Randomized Experiments","title":"Combining Multiple Rank Sum Statistics","text":"","code":"# Example: Testing treatment effects in a stratified experiment set.seed(123)  # Create data s <- 5  # number of strata n <- 10 # units per stratum N <- s * n  block <- factor(rep(1:s, each = n)) Z <- rep(0, N) for (i in 1:s) {   block_idx <- which(block == i)   Z[sample(block_idx, n/2)] <- 1 }  Y0 <- rnorm(N) Y1 <- Y0 + 1  # constant treatment effect of 1 Y <- Z * Y1 + (1 - Z) * Y0  # Set up methods (Wilcoxon scores) methods.list.all <- list() methods.list.all[[1]] <- lapply(1:s, function(i) list(name = \"Wilcoxon\", scale = FALSE))  # Compute p-value using HiGHS solver result <- pval_comb_block(Z, Y, k = floor(0.9 * N), c = 0,                           block, methods.list.all,                           opt.method = \"ILP_highs\") print(result)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"solver-options","dir":"","previous_headings":"","what":"Solver Options","title":"Combining Multiple Rank Sum Statistics","text":"opt.method parameter controls optimization solver use:","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"checking-solver-availability","dir":"","previous_headings":"Solver Options","what":"Checking Solver Availability","title":"Combining Multiple Rank Sum Statistics","text":"","code":"# Check which solvers are installed solver_available(\"highs\")   # TRUE if highs package is installed solver_available(\"gurobi\")  # TRUE if gurobi package is installed  # Get the default solver get_default_solver()  # Returns \"highs\" or \"gurobi\""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"comparing-solvers","dir":"","previous_headings":"Solver Options","what":"Comparing Solvers","title":"Combining Multiple Rank Sum Statistics","text":"HiGHS Gurobi produce equivalent results. can verify :","code":"# Same results with different solvers result_highs <- pval_comb_block(Z, Y, k, c, block, methods.list.all,                                 opt.method = \"ILP_highs\")  result_gurobi <- pval_comb_block(Z, Y, k, c, block, methods.list.all,                                  opt.method = \"ILP_gurobi\")  # These should be equal (up to numerical precision) all.equal(result_highs, result_gurobi)"},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"completely-randomized-experiments-cre","dir":"","previous_headings":"Main Functions","what":"Completely Randomized Experiments (CRE)","title":"Combining Multiple Rank Sum Statistics","text":"","code":"?comb_p_val_cre              # Get p-value from combined statistics in CRE ?com_conf_quant_larger_cre   # Get confidence intervals for quantiles in CRE"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"stratified-randomized-experiments-sre","dir":"","previous_headings":"Main Functions","what":"Stratified Randomized Experiments (SRE)","title":"Combining Multiple Rank Sum Statistics","text":"","code":"?pval_comb_block             # Get p-value from combined statistics in SRE ?com_block_conf_quant_larger # Get confidence intervals for quantiles in SRE"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"solver-utilities","dir":"","previous_headings":"Main Functions","what":"Solver Utilities","title":"Combining Multiple Rank Sum Statistics","text":"","code":"?solve_optimization   # Unified optimization interface ?solver_available     # Check if a solver is available ?get_default_solver   # Get the default solver ?parse_opt_method     # Parse optimization method string"},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"example-1-p-value-calculation","dir":"","previous_headings":"Examples","what":"Example 1: P-value Calculation","title":"Combining Multiple Rank Sum Statistics","text":"","code":"library(CMRSS)  # Setup set.seed(42) s <- 4; n <- 8; N <- s * n block <- factor(rep(1:s, each = n)) Z <- unlist(lapply(1:s, function(i) sample(c(rep(1, n/2), rep(0, n/2))))) Y <- rnorm(N) + Z * 0.8  # Treatment effect of 0.8  # Methods: combine Wilcoxon and Stephenson scores methods.list.all <- list(   lapply(1:s, function(i) list(name = \"Wilcoxon\", scale = FALSE)),   lapply(1:s, function(i) list(name = \"Stephenson\", s = 3, scale = FALSE)) )  # Test H0: tau_(k) <= 0 at 90th percentile result <- pval_comb_block(Z, Y, k = floor(0.9 * N), c = 0,                           block, methods.list.all,                           opt.method = \"ILP_highs\") cat(\"P-value:\", result[\"p.value\"], \"\\n\") cat(\"Test statistic:\", result[\"test.stat\"], \"\\n\")"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"example-2-confidence-intervals","dir":"","previous_headings":"Examples","what":"Example 2: Confidence Intervals","title":"Combining Multiple Rank Sum Statistics","text":"","code":"# Compute simultaneous confidence intervals for treatment effect quantiles ci <- com_block_conf_quant_larger(Z, Y, block,                                   set = \"treat\",  # for treated units                                   methods.list.all = methods.list.all,                                   opt.method = \"ILP_highs\",                                   alpha = 0.1) print(ci)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Combining Multiple Rank Sum Statistics","text":"Kim, D. Li, X. (2024). Combining Multiple Rank Sum Statistics Inference Treatment Effect Quantiles.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Combining Multiple Rank Sum Statistics","text":"MIT License","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/CMRSS-package.html","id":null,"dir":"Reference","previous_headings":"","what":"CMRSS: Combining Multiple Rank Sum Statistics — CMRSS-package","title":"CMRSS: Combining Multiple Rank Sum Statistics — CMRSS-package","text":"Randomization inference quantiles individual treatment effects using combined rank sum statistics. Supports completely randomized experiments (CRE) stratified randomized experiments (SRE). optimization can performed using either open-source HiGHS solver commercial Gurobi solver.","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/CMRSS-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"CMRSS: Combining Multiple Rank Sum Statistics — CMRSS-package","text":"Maintainer: David Kim davidk9@illinois.edu Authors: Xinran Li xinranli@uchicago.edu contributors: Jake Bowers jwbowers@uchicago.edu [contributor]","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_com.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimization function using Gurobi solver (original implementation) — Gurobi_sol_com","title":"Optimization function using Gurobi solver (original implementation) — Gurobi_sol_com","text":"Solves integer/linear programming problem computing minimum test statistic stratified randomized experiments using Gurobi solver.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_com.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimization function using Gurobi solver (original implementation) — Gurobi_sol_com","text":"","code":"Gurobi_sol_com(   Z,   block,   weight,   coeflists,   p,   ms_list,   exact = TRUE,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_com.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimization function using Gurobi solver (original implementation) — Gurobi_sol_com","text":"Z n-dimensional treatment assignment vector. block n-dimensional vector specifying block unit. weight B-dimensional vector block weights. coeflists list H elements, containing B matrices block-specific test statistics different values k. p Upper bound number units effects greater c. ms_list list containing mu (means) sigma (standard deviations) test statistic. exact Logical; TRUE, solve integer linear program (ILP). FALSE, solve linear program (LP relaxation). block.sum Optional pre-computed block summary summary_block().","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_com.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimization function using Gurobi solver (original implementation) — Gurobi_sol_com","text":"list : sol Solution vector obj Optimal objective value","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_com.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Optimization function using Gurobi solver (original implementation) — Gurobi_sol_com","text":"original Gurobi-based implementation. users without Gurobi license, HiGHS_sol_com provides equivalent functionality using open-source HiGHS solver.","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_com.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Optimization function using Gurobi solver (original implementation) — Gurobi_sol_com","text":"","code":"if (FALSE) { # \\dontrun{ # This is typically called internally by pval_comb_block() result <- Gurobi_sol_com(Z, block, weight, coeflists, p, ms_list, exact = TRUE) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_stratum_com.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratum-level optimization using Gurobi solver — Gurobi_sol_stratum_com","title":"Stratum-level optimization using Gurobi solver — Gurobi_sol_stratum_com","text":"Solves optimization problem stratum-level combination method (comb.method = 2) using Gurobi.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_stratum_com.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratum-level optimization using Gurobi solver — Gurobi_sol_stratum_com","text":"","code":"Gurobi_sol_stratum_com(coeflist, p, exact = TRUE)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_stratum_com.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratum-level optimization using Gurobi solver — Gurobi_sol_stratum_com","text":"coeflist list B matrices containing stratum-wise standardized test statistics different coverage scenarios. p Upper bound number units effects greater c. exact Logical; TRUE, solve integer linear program (ILP). FALSE, solve linear program (LP relaxation).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/Gurobi_sol_stratum_com.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratum-level optimization using Gurobi solver — Gurobi_sol_stratum_com","text":"list : sol Solution vector obj Optimal objective value","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_com.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimization function using HiGHS solver — HiGHS_sol_com","title":"Optimization function using HiGHS solver — HiGHS_sol_com","text":"Solves integer/linear programming problem computing minimum test statistic stratified randomized experiments using HiGHS solver.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_com.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimization function using HiGHS solver — HiGHS_sol_com","text":"","code":"HiGHS_sol_com(   Z,   block,   weight,   coeflists,   p,   ms_list,   exact = TRUE,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_com.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimization function using HiGHS solver — HiGHS_sol_com","text":"Z n-dimensional treatment assignment vector. block n-dimensional vector specifying block unit. weight B-dimensional vector block weights. coeflists list H elements, containing B matrices block-specific test statistics different values k. p Upper bound number units effects greater c. ms_list list containing mu (means) sigma (standard deviations) test statistic. exact Logical; TRUE, solve integer linear program (ILP). FALSE, solve linear program (LP relaxation). block.sum Optional pre-computed block summary summary_block().","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_com.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimization function using HiGHS solver — HiGHS_sol_com","text":"list : sol Solution vector obj Optimal objective value","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_com.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Optimization function using HiGHS solver — HiGHS_sol_com","text":"function formulates solves optimization problem find minimum value combined test statistic constraint p units effects greater threshold c. problem following structure: Variables: x_sj (binary/continuous), eta_h, theta Objective: minimize theta Constraints: probability constraints per stratum, coverage constraint, test statistic equality constraints, normalization constraints","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_com.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Optimization function using HiGHS solver — HiGHS_sol_com","text":"","code":"if (FALSE) { # \\dontrun{ # This is typically called internally by pval_comb_block() # Direct usage requires pre-computed coefficient lists result <- HiGHS_sol_com(Z, block, weight, coeflists, p, ms_list, exact = TRUE) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_stratum_com.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratum-level optimization using HiGHS solver — HiGHS_sol_stratum_com","title":"Stratum-level optimization using HiGHS solver — HiGHS_sol_stratum_com","text":"Solves optimization problem stratum-level combination method (comb.method = 2) using HiGHS.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_stratum_com.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratum-level optimization using HiGHS solver — HiGHS_sol_stratum_com","text":"","code":"HiGHS_sol_stratum_com(coeflist, p, exact = TRUE)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_stratum_com.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratum-level optimization using HiGHS solver — HiGHS_sol_stratum_com","text":"coeflist list B matrices containing stratum-wise standardized test statistics different coverage scenarios. p Upper bound number units effects greater c. exact Logical; TRUE, solve integer linear program (ILP). FALSE, solve linear program (LP relaxation).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/HiGHS_sol_stratum_com.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratum-level optimization using HiGHS solver — HiGHS_sol_stratum_com","text":"list : sol Solution vector obj Optimal objective value","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_CRE.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate complete randomization assignments — assign_CRE","title":"Generate complete randomization assignments — assign_CRE","text":"Generates matrix permuted treatment assignments completely randomized experiments.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_CRE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate complete randomization assignments — assign_CRE","text":"","code":"assign_CRE(n, m, nperm)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_CRE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate complete randomization assignments — assign_CRE","text":"n Total number units. m Number treated units. nperm Number permutations. Inf, generates possible assignments.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_CRE.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate complete randomization assignments — assign_CRE","text":"n x nperm matrix column permuted treatment assignment.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate block-randomized treatment assignments — assign_block","title":"Generate block-randomized treatment assignments — assign_block","text":"Generates permuted treatment assignments respect block structure stratified randomized experiment.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate block-randomized treatment assignments — assign_block","text":"","code":"assign_block(block.sum, null.max = 10^4)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate block-randomized treatment assignments — assign_block","text":"block.sum block summary object summary_block. null.max Number permutations generate.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/assign_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate block-randomized treatment assignments — assign_block","text":"n x null.max matrix permuted treatment assignments.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_exp.html","id":null,"dir":"Reference","previous_headings":"","what":"Confidence intervals for effect quantiles (experimental) — ci_lower_quantile_exp","title":"Confidence intervals for effect quantiles (experimental) — ci_lower_quantile_exp","text":"Computes (1-alpha) simultaneous confidence/prediction intervals (lower bounds) effect quantiles among treated, control, units using RIQITE package.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_exp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Confidence intervals for effect quantiles (experimental) — ci_lower_quantile_exp","text":"","code":"ci_lower_quantile_exp(   Z,   Y,   treat.method.list = list(name = \"Stephenson\", s = 6),   control.method.list = list(name = \"Stephenson\", s = 6),   score = NULL,   stat.null = NULL,   nperm = 10^4,   Z.perm = NULL,   alpha = 0.05,   set = \"treat\",   alpha.ratio.treat = 0.5,   tol = 10^(-3) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_exp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Confidence intervals for effect quantiles (experimental) — ci_lower_quantile_exp","text":"Z n-dimensional binary treatment assignment vector (1 = treated, 0 = control). Y n-dimensional observed outcome vector. treat.method.list Method specification treated units. control.method.list Method specification control units. score Optional pre-computed score vector. stat.null Optional pre-computed null distribution. nperm Number permutations null distribution. Z.perm Optional permutation matrix. alpha Significance level. set Set quantiles: \"treat\", \"control\", \"\". alpha.ratio.treat set=\"\", proportion alpha allocated treated. tol Tolerance root-finding.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_exp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Confidence intervals for effect quantiles (experimental) — ci_lower_quantile_exp","text":"numeric vector lower confidence limits.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_gen.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized confidence intervals with hypergeometric correction — ci_lower_quantile_gen","title":"Generalized confidence intervals with hypergeometric correction — ci_lower_quantile_gen","text":"Internal function computing confidence intervals correction generalizing larger population.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_gen.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized confidence intervals with hypergeometric correction — ci_lower_quantile_gen","text":"","code":"ci_lower_quantile_gen(   Z,   Y,   N = 2 * length(Z),   K.vec = ceiling(c(0.6, 0.7, 0.8, 0.9) * N),   alpha = 0.05,   gamma = 0.5,   ndraw = 10^4,   treat.method.list = list(name = \"Stephenson\", s = 6),   control.method.list = list(name = \"Stephenson\", s = 6),   score = NULL,   stat.null = NULL,   nperm = 10^4,   Z.perm = NULL,   set = \"all\",   alpha.ratio.treat = 0.5,   tol = 10^(-3) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_gen.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized confidence intervals with hypergeometric correction — ci_lower_quantile_gen","text":"Z n-dimensional binary treatment assignment vector (1 = treated, 0 = control). Y n-dimensional observed outcome vector. N Population size. K.vec Vector quantile ranks population. alpha Significance level. gamma Proportion alpha hypergeometric correction. ndraw Number Monte Carlo draws. treat.method.list Method specification treated units. control.method.list Method specification control units. score Optional pre-computed score vector. stat.null Optional pre-computed null distribution. nperm Number permutations null distribution. Z.perm Optional permutation matrix. set Set quantiles: \"treat\", \"control\", \"\". alpha.ratio.treat set=\"\", proportion alpha allocated treated. tol Tolerance root-finding.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_gen.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized confidence intervals with hypergeometric correction — ci_lower_quantile_gen","text":"data frame columns k, lower, upper.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_generalize.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized confidence intervals for effect quantiles — ci_lower_quantile_generalize","title":"Generalized confidence intervals for effect quantiles — ci_lower_quantile_generalize","text":"Computes confidence intervals effect quantiles can generalized larger population using hypergeometric correction approach.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_generalize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized confidence intervals for effect quantiles — ci_lower_quantile_generalize","text":"","code":"ci_lower_quantile_generalize(   Z,   Y,   N,   k_vec = ceiling(c(0.6, 0.7, 0.8, 0.9) * N),   alpha = 0.05,   gamma = 0.5,   ndraw = 10^4,   treat.method.list = list(name = \"Stephenson\", s = 6),   control.method.list = list(name = \"Stephenson\", s = 6),   score = NULL,   stat.null = NULL,   nperm = 10^4,   Z.perm = NULL,   set = \"all\",   alpha.ratio.treat = 0.5,   tol = 10^(-3),   simul = TRUE )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_generalize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized confidence intervals for effect quantiles — ci_lower_quantile_generalize","text":"Z n-dimensional binary treatment assignment vector (1 = treated, 0 = control). Y n-dimensional observed outcome vector. N Population size. k_vec Vector quantile ranks interest. alpha Significance level. gamma Proportion alpha hypergeometric correction. ndraw Number Monte Carlo draws. treat.method.list Method specification treated units. control.method.list Method specification control units. score Optional pre-computed score vector. stat.null Optional pre-computed null distribution. nperm Number permutations null distribution. Z.perm Optional permutation matrix. set Set quantiles: \"treat\", \"control\", \"\". alpha.ratio.treat set=\"\", proportion alpha allocated treated. tol Tolerance root-finding. simul Logical; TRUE, compute simultaneous intervals.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/ci_lower_quantile_generalize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized confidence intervals for effect quantiles — ci_lower_quantile_generalize","text":"data frame columns k, lower, upper.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger.html","id":null,"dir":"Reference","previous_headings":"","what":"Simultaneous bound for confidence interval using combined rank sum statistic on stratified randomized experiment — com_block_conf_quant_larger","title":"Simultaneous bound for confidence interval using combined rank sum statistic on stratified randomized experiment — com_block_conf_quant_larger","text":"Computes simultaneous confidence intervals quantiles individual treatment effects stratified randomized experiments.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simultaneous bound for confidence interval using combined rank sum statistic on stratified randomized experiment — com_block_conf_quant_larger","text":"","code":"com_block_conf_quant_larger(   Z,   Y,   block,   set = \"all\",   methods.list.all = NULL,   weight.name = \"asymp.opt\",   opt.method = \"ILP_auto\",   comb.method = 1,   stat.null = NULL,   null.max = 10^4,   Z.perm = NULL,   tol = 0.01,   alpha = 0.1 )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simultaneous bound for confidence interval using combined rank sum statistic on stratified randomized experiment — com_block_conf_quant_larger","text":"Z \\(n\\) dimensional treatment assignment vector. Y \\(n\\) dimensional observed outcome vector. block \\(n\\) dimensional vector specifying block unit. set Set quantiles interest. Options: \"treat\": Prediction intervals effect quantiles among treated units \"control\": Prediction intervals effect quantiles among control units \"\": Confidence intervals effect quantiles methods.list.list lists lists. Corresponds method stratum different stratified rank sum statistic. weight.name Weighting method implemented. \"asymp.opt\", asymptotically optimal scheme class local alternatives adjusted, \"dist.free\", design-free scheme adjusted. opt.method Optimization method. Options include: \"ILP_gurobi\": Integer linear programming Gurobi solver \"LP_gurobi\": Linear programming relaxation Gurobi solver \"ILP_highs\": Integer linear programming HiGHS solver (open-source) \"LP_highs\": Linear programming relaxation HiGHS solver \"ILP\" \"ILP_auto\": Integer LP auto-selected solver \"LP\" \"LP_auto\": Linear programming auto-selected solver HiGHS recommended users without Gurobi license. solvers produce equivalent results. comb.method Integer specifying combination method: 1: Combine statistics across strata first, take maximum across methods (default) 2: Take maximum across methods within stratum first, combine across strata stat.null vector whose empirical distribution approximates randomization distribution combined stratified rank sum statistic. null.max positive integer representing number permutations approximating randomization distribution rank sum statistic. Z.perm Optional pre-computed n x null.max matrix permuted treatment assignments. provided, matrix used instead generating new permutations. Can generated using assign_block(summary_block(Z, block), null.max). tol numerical object specifying precision obtained confidence intervals. example, tol = 10^(-3), confidence limits precise 3 digits. alpha numerical object, 1-alpha indicates confidence level.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simultaneous bound for confidence interval using combined rank sum statistic on stratified randomized experiment — com_block_conf_quant_larger","text":"vector specifying lower limits prediction (confidence) intervals quantiles k = 1 ~ m (n - m, n).","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simultaneous bound for confidence interval using combined rank sum statistic on stratified randomized experiment — com_block_conf_quant_larger","text":"","code":"if (FALSE) { # \\dontrun{ # Load the electric teachers dataset data(electric_teachers)  # Set up treatment, outcome, and blocking variable Z <- electric_teachers$TxAny Y <- electric_teachers$gain block <- factor(electric_teachers$Site) s <- length(levels(block))  # number of strata (7 sites)  # Define polynomial rank statistics with different r values # For SRE, methods must be specified for EACH stratum within EACH statistic r.vec <- c(2, 6, 10) methods.list.all <- list() for (j in seq_along(r.vec)) {   methods.list.all[[j]] <- lapply(1:s, function(i) {     list(name = \"Polynomial\", r = r.vec[j], std = TRUE, scale = FALSE)   }) }  # Prediction intervals for effect quantiles among treated units # Uses asymptotically optimal weighting across strata ci.treat <- com_block_conf_quant_larger(Z, Y, block,                                         set = \"treat\",                                         methods.list.all = methods.list.all,                                         weight.name = \"asymp.opt\",                                         opt.method = \"ILP\",                                         null.max = 10000,                                         tol = 0.01,                                         alpha = 0.05)  # Prediction intervals for control units ci.control <- com_block_conf_quant_larger(Z, Y, block,                                           set = \"control\",                                           methods.list.all = methods.list.all,                                           opt.method = \"ILP\",                                           alpha = 0.05)  # Confidence intervals for all effect quantiles ci.all <- com_block_conf_quant_larger(Z, Y, block,                                       set = \"all\",                                       methods.list.all = methods.list.all,                                       opt.method = \"ILP\",                                       alpha = 0.10)  # Using stratum-level combination (comb.method = 2) # Takes maximum across methods within each stratum first ci.treat.m2 <- com_block_conf_quant_larger(Z, Y, block,                                            set = \"treat\",                                            methods.list.all = methods.list.all,                                            opt.method = \"ILP\",                                            comb.method = 2,                                            alpha = 0.05)  # Using LP relaxation for faster computation ci.treat.lp <- com_block_conf_quant_larger(Z, Y, block,                                            set = \"treat\",                                            methods.list.all = methods.list.all,                                            opt.method = \"LP\",                                            alpha = 0.05) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger_trt.html","id":null,"dir":"Reference","previous_headings":"","what":"Helper function for Simultaneous Inference for multiple quantiles on SRE — com_block_conf_quant_larger_trt","title":"Helper function for Simultaneous Inference for multiple quantiles on SRE — com_block_conf_quant_larger_trt","text":"Output lower limit prediction intervals prespecified quantiles.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger_trt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Helper function for Simultaneous Inference for multiple quantiles on SRE — com_block_conf_quant_larger_trt","text":"","code":"com_block_conf_quant_larger_trt(   Z,   Y,   block,   k.vec = NULL,   methods.list.all,   weight.name = \"asymp.opt\",   opt.method = \"ILP_auto\",   comb.method = 1,   stat.null = NULL,   null.max = 10^4,   Z.perm = NULL,   tol = 0.01,   alpha = 0.1 )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger_trt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Helper function for Simultaneous Inference for multiple quantiles on SRE — com_block_conf_quant_larger_trt","text":"Z \\(n\\) dimensional treatment assignment vector. Y \\(n\\) dimensional observed outcome vector. block \\(n\\) dimensional vector specifying block units. k.vec Optional vector specific quantile indices compute. NULL, computes quantiles. methods.list.list lists lists. Corresponds method stratum different stratified rank sum statistic. weight.name Weighting method implemented. \"asymp.opt\", asymptotically optimal scheme class local alternatives adjusted, \"dist.free\", design-free scheme adjusted. opt.method Optimization method. Options include: \"ILP_gurobi\": Integer linear programming Gurobi solver \"LP_gurobi\": Linear programming relaxation Gurobi solver \"ILP_highs\": Integer linear programming HiGHS solver (open-source) \"LP_highs\": Linear programming relaxation HiGHS solver \"ILP\" \"ILP_auto\": Integer LP auto-selected solver \"LP\" \"LP_auto\": Linear programming auto-selected solver HiGHS recommended users without Gurobi license. solvers produce equivalent results. comb.method Integer specifying combination method: 1: Combine statistics across strata first, take maximum across methods (default) 2: Take maximum across methods within stratum first, combine across strata stat.null vector whose empirical distribution approximates randomization distribution combined stratified rank sum statistic. null.max positive integer representing number permutations approximating randomization distribution rank sum statistic. tol Tolerance root-finding algorithm. alpha Significance level confidence intervals.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_block_conf_quant_larger_trt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Helper function for Simultaneous Inference for multiple quantiles on SRE — com_block_conf_quant_larger_trt","text":"Vector lower confidence limits specified quantiles.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_cre.html","id":null,"dir":"Reference","previous_headings":"","what":"Simultaneous lower bounds using multiple rank sum statistics in CRE — com_conf_quant_larger_cre","title":"Simultaneous lower bounds using multiple rank sum statistics in CRE — com_conf_quant_larger_cre","text":"Computes simultaneous confidence/prediction intervals quantiles individual treatment effects completely randomized experiments (CRE) combining multiple rank sum statistics.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_cre.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simultaneous lower bounds using multiple rank sum statistics in CRE — com_conf_quant_larger_cre","text":"","code":"com_conf_quant_larger_cre(   Z,   Y,   methods.list,   nperm = 10^4,   set = \"treat\",   Z.perm = NULL,   alpha = 0.05,   tol = 10^(-3) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_cre.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simultaneous lower bounds using multiple rank sum statistics in CRE — com_conf_quant_larger_cre","text":"Z \\(n\\) dimensional treatment assignment vector (1 = treated, 0 = control). Y \\(n\\) dimensional observed outcome vector. methods.list list lists specifying choice multiple rank sum test statistics. element list : name: \"Wilcoxon\", \"Stephenson\", \"Polynomial\" s: (Stephenson) parameter s controlling sensitivity upper ranks r: (Polynomial) power parameter std: (Polynomial) logical, use Puri(1965) normalization scale: logical, standardize scores mean 0 sd 1 nperm positive integer representing number permutations approximating randomization distribution rank sum statistic. set Set quantiles interest: \"treat\": Prediction intervals effect quantiles among treated units \"control\": Prediction intervals effect quantiles among control units \"\": Confidence intervals effect quantiles Z.perm \\(n \\times nperm\\) matrix specifies permuted assignments approximating null distribution test statistic. NULL, generated automatically. alpha numeric value 1-alpha indicates confidence level. tol numeric value specifying precision obtained confidence intervals. example, tol = 10^(-3), confidence limits precise 3 digits.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_cre.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simultaneous lower bounds using multiple rank sum statistics in CRE — com_conf_quant_larger_cre","text":"vector specifying lower limits prediction (confidence) intervals quantiles k = 1 ~ m (\"treat\"), n - m + 1 ~ n (\"control\"), 1 ~ n (\"\").","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_cre.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simultaneous lower bounds using multiple rank sum statistics in CRE — com_conf_quant_larger_cre","text":"function implements combined rank sum test approach inference quantiles individual treatment effects. combining multiple rank statistics (e.g., Stephenson statistics different s values), method can achieve better power across range effect distributions. set = \"\", function combines inference treated control units using approach described Chen Li (2024), Bonferroni-style adjustment (alpha/2 direction).","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_cre.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simultaneous lower bounds using multiple rank sum statistics in CRE — com_conf_quant_larger_cre","text":"","code":"if (FALSE) { # \\dontrun{ # Load the electric teachers dataset data(electric_teachers)  # Set up treatment and outcome (treating as CRE, ignoring sites) Z <- electric_teachers$TxAny Y <- electric_teachers$gain  # Define multiple Stephenson statistics with different s values # Larger s focuses more on upper ranks (larger treatment effects) s.vec <- c(2, 6, 10, 30) methods.list <- lapply(s.vec, function(s) {   list(name = \"Stephenson\", s = s, std = TRUE, scale = TRUE) })  # Prediction intervals for treated units (90% confidence) ci.treat <- com_conf_quant_larger_cre(Z, Y,                                       methods.list = methods.list,                                       nperm = 10000,                                       set = \"treat\",                                       alpha = 0.05)  # Prediction intervals for control units ci.control <- com_conf_quant_larger_cre(Z, Y,                                         methods.list = methods.list,                                         nperm = 10000,                                         set = \"control\",                                         alpha = 0.05)  # Confidence intervals for all effect quantiles ci.all <- com_conf_quant_larger_cre(Z, Y,                                     methods.list = methods.list,                                     nperm = 10000,                                     set = \"all\",                                     alpha = 0.10) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_trt.html","id":null,"dir":"Reference","previous_headings":"","what":"Simultaneous inference for multiple quantiles on CRE (treated units) — com_conf_quant_larger_trt","title":"Simultaneous inference for multiple quantiles on CRE (treated units) — com_conf_quant_larger_trt","text":"Helper function computing lower limits prediction intervals quantiles across treated units using combined p-value.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_trt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simultaneous inference for multiple quantiles on CRE (treated units) — com_conf_quant_larger_trt","text":"","code":"com_conf_quant_larger_trt(   Z,   Y,   methods.list = NULL,   nperm = 10^4,   k.vec = NULL,   Z.perm = NULL,   alpha = 0.05,   tol = 10^(-3),   ind.sort.treat = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_trt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simultaneous inference for multiple quantiles on CRE (treated units) — com_conf_quant_larger_trt","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. methods.list list method specifications. nperm Number permutations null distribution. k.vec Vector quantile indices compute intervals . Z.perm Optional permutation matrix. alpha Significance level. tol Tolerance root-finding. ind.sort.treat Optional sorted indices treated units.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_conf_quant_larger_trt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simultaneous inference for multiple quantiles on CRE (treated units) — com_conf_quant_larger_trt","text":"numeric vector lower confidence limits.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate null distribution of combined stratified statistics — com_null_dist_block","title":"Generate null distribution of combined stratified statistics — com_null_dist_block","text":"Generates randomization null distribution maximum among weighted normalized stratified rank sum statistics.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate null distribution of combined stratified statistics — com_null_dist_block","text":"","code":"com_null_dist_block(   Z,   block,   methods.list.all,   scores.list.all = NULL,   null.max = 10^4,   weight,   block.sum = NULL,   Z.perm = NULL,   chunk_size = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate null distribution of combined stratified statistics — com_null_dist_block","text":"Z n-dimensional binary treatment assignment vector. block n-dimensional vector specifying block membership. methods.list.list lists method specifications. scores.list.Optional pre-computed scores. null.max Number permutations. weight B-dimensional vector block weights. block.sum Optional pre-computed block summary. Z.perm Optional pre-computed permutation matrix. chunk_size Optional number permutations per chunk Z.perm NULL. NULL, chosen adaptively based n.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate null distribution of combined stratified statistics — com_null_dist_block","text":"numeric vector null distribution (length null.max).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block_stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate null distribution for stratum-level combination — com_null_dist_block_stratum","title":"Generate null distribution for stratum-level combination — com_null_dist_block_stratum","text":"Generates randomization null distribution stratum-level combination method (comb.method = 2).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block_stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate null distribution for stratum-level combination — com_null_dist_block_stratum","text":"","code":"com_null_dist_block_stratum(   Z,   block,   methods.list.all,   scores.list.all = NULL,   mu_sd_block_list = NULL,   null.max = 10^4,   weight,   block.sum = NULL,   Z.perm = NULL,   chunk_size = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block_stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate null distribution for stratum-level combination — com_null_dist_block_stratum","text":"Z n-dimensional binary treatment assignment vector. block n-dimensional vector specifying block membership. methods.list.list H method specifications. scores.list.Optional pre-computed scores. mu_sd_block_list Optional pre-computed means SDs mu_sd_block(). null.max Number permutations. weight B-dimensional vector block weights. block.sum Optional pre-computed block summary. Z.perm Optional pre-computed permutation matrix. chunk_size Optional number permutations per chunk Z.perm NULL. NULL, chosen adaptively based n.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/com_null_dist_block_stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate null distribution for stratum-level combination — com_null_dist_block_stratum","text":"numeric vector null distribution (length null.max).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute coefficient matrices for optimization — comb_matrix_block","title":"Compute coefficient matrices for optimization — comb_matrix_block","text":"Calculates coefficient matrices needed optimization problem combined stratified rank sum test.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute coefficient matrices for optimization — comb_matrix_block","text":"","code":"comb_matrix_block(   Z,   Y,   block,   c,   methods.list.all,   scores.list.all = NULL,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute coefficient matrices for optimization — comb_matrix_block","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. block n-dimensional vector specifying block membership. c Threshold null hypothesis. methods.list.list lists method specifications. scores.list.Optional pre-computed scores. block.sum Optional pre-computed block summary.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute coefficient matrices for optimization — comb_matrix_block","text":"list H elements, containing list B matrices. matrix 2 x (mb+1) containing number units minimum statistic values different coverage scenarios.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block_stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute stratum-wise standardized coefficient matrices — comb_matrix_block_stratum","title":"Compute stratum-wise standardized coefficient matrices — comb_matrix_block_stratum","text":"Calculates stratum-wise standardized test statistic values stratum-level combination method (comb.method = 2).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block_stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute stratum-wise standardized coefficient matrices — comb_matrix_block_stratum","text":"","code":"comb_matrix_block_stratum(   Z,   Y,   block,   c,   methods.list.all,   weight,   scores.list.all = NULL,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block_stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute stratum-wise standardized coefficient matrices — comb_matrix_block_stratum","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. block n-dimensional vector specifying block membership. c Threshold null hypothesis. methods.list.list H method specifications. weight B-dimensional vector block weights. scores.list.Optional pre-computed scores. block.sum Optional pre-computed block summary.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_matrix_block_stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute stratum-wise standardized coefficient matrices — comb_matrix_block_stratum","text":"list H elements, containing B matrices stratum-wise standardized test statistics.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_null_dist_cre.html","id":null,"dir":"Reference","previous_headings":"","what":"Null distribution for minimum p-values — comb_null_dist_cre","title":"Null distribution for minimum p-values — comb_null_dist_cre","text":"Computes distribution minimum p-value, particularly Monte Carlo samples combined null distribution F Theorem 1 paper.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_null_dist_cre.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Null distribution for minimum p-values — comb_null_dist_cre","text":"","code":"comb_null_dist_cre(   n,   m,   methods.list,   Z.perm = NULL,   nperm = 10^4,   stat.null.mult = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_null_dist_cre.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Null distribution for minimum p-values — comb_null_dist_cre","text":"n Total number units. m Number treated units. methods.list list method specifications. Z.perm Optional permutation matrix. nperm Number permutations null distribution. stat.null.mult Optional pre-computed null distribution matrix.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_null_dist_cre.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Null distribution for minimum p-values — comb_null_dist_cre","text":"numeric vector minimum p-values null.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_p_val_cre.html","id":null,"dir":"Reference","previous_headings":"","what":"Combined p-value for quantile treatment effects in CRE — comb_p_val_cre","title":"Combined p-value for quantile treatment effects in CRE — comb_p_val_cre","text":"Tests null hypothesis \\(H_0: \\tau_{(k)} \\leq c\\), \\(\\tau_{(k)}\\) denotes individual treatment effect rank k. test combines multiple rank sum statistics improve power.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_p_val_cre.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combined p-value for quantile treatment effects in CRE — comb_p_val_cre","text":"","code":"comb_p_val_cre(   Z,   Y,   k,   c,   methods.list,   Z.perm = NULL,   nperm,   stat.null.mult = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_p_val_cre.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combined p-value for quantile treatment effects in CRE — comb_p_val_cre","text":"Z n-dimensional binary treatment assignment vector (1 = treated, 0 = control). Y n-dimensional observed outcome vector. k integer 1 n specifying quantile individual effect interest. c numeric value specifying threshold null hypothesis. methods.list list method specifications rank sum statistics. element list : name: \"Wilcoxon\", \"Stephenson\", \"Polynomial\" s: (Stephenson) parameter s r: (Polynomial) power parameter std: (Polynomial) logical, use Puri normalization scale: logical, standardize scores Z.perm n x nperm matrix permuted treatment assignments approximating null distribution. NULL, generated automatically. nperm Number permutations approximating null distribution. stat.null.mult matrix whose empirical distribution approximates randomization distribution multiple rank statistics. NULL, computed Z.perm.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_p_val_cre.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combined p-value for quantile treatment effects in CRE — comb_p_val_cre","text":"numeric p-value testing specified null hypothesis.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_p_val_cre.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Combined p-value for quantile treatment effects in CRE — comb_p_val_cre","text":"Calculate valid p-value, based multiple rank sum statistics, testing null hypothesis quantiles individual treatment effects completely randomized experiments (CRE).","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comb_p_val_cre.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combined p-value for quantile treatment effects in CRE — comb_p_val_cre","text":"","code":"# Simple example with Wilcoxon and Stephenson statistics set.seed(123) n <- 30 Z <- sample(c(rep(1, 15), rep(0, 15))) Y <- rnorm(n) + 0.5 * Z  # Treatment effect of 0.5  # Define methods: Wilcoxon and Stephenson with s=3 methods.list <- list(   list(name = \"Wilcoxon\", scale = FALSE),   list(name = \"Stephenson\", s = 3, scale = FALSE) )  # Test if the 80th percentile effect is <= 0 k <- floor(0.8 * n) pval <- comb_p_val_cre(Z, Y, k, c = 0, methods.list, nperm = 1000)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/comparison_methods.html","id":null,"dir":"Reference","previous_headings":"","what":"Comparison Methods for Benchmarking — comparison_methods","title":"Comparison Methods for Benchmarking — comparison_methods","text":"file contains comparison methods literature benchmarking CMRSS combined methods. methods wrappers around RIQITE package implementation.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/correct_hypergeom.html","id":null,"dir":"Reference","previous_headings":"","what":"Multivariate hypergeometric correction — correct_hypergeom","title":"Multivariate hypergeometric correction — correct_hypergeom","text":"Computes correction term based multivariate hypergeometric distribution generalizing inference larger populations.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/correct_hypergeom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Multivariate hypergeometric correction — correct_hypergeom","text":"","code":"correct_hypergeom(   N = 100,   n = 50,   K.vec = c(60, 80),   kk.vec = c(30, 40),   ndraw = 10^4,   hg.draw = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/correct_hypergeom.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Multivariate hypergeometric correction — correct_hypergeom","text":"N Population size. n Sample size. K.vec Vector quantile ranks population. kk.vec Vector corresponding sample quantile ranks. ndraw Number draws Monte Carlo approximation. hg.draw Optional pre-computed hypergeometric draws.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/correct_hypergeom.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Multivariate hypergeometric correction — correct_hypergeom","text":"Probability value correction.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/electric_teachers.html","id":null,"dir":"Reference","previous_headings":"","what":"Electric Circuits Professional Development Study Data — electric_teachers","title":"Electric Circuits Professional Development Study Data — electric_teachers","text":"Data randomized experiment studying effects professional development elementary teachers' science teaching, specifically related teaching electric circuits.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/electric_teachers.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Electric Circuits Professional Development Study Data — electric_teachers","text":"","code":"electric_teachers"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/electric_teachers.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Electric Circuits Professional Development Study Data — electric_teachers","text":"data frame 233 rows 7 variables: Site Character. Study site identifier (S2-S8). experiment conducted across 7 sites. T.ID Numeric. Unique teacher identifier. Tx Character. Treatment group assignment four levels: : Treatment condition B: Treatment condition B C: Treatment condition C D: Control condition TxAny Numeric. Binary indicator treatment (1) vs control (0). Teachers groups , B, C TxAny=1; teachers group D TxAny=0. Per.1 Numeric. Pre-test score (percentage correct, 0-100). Per.2 Numeric. Post-test score (percentage correct, 0-100). gain Numeric. Gain score calculated Per.2 - Per.1.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/electric_teachers.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Electric Circuits Professional Development Study Data — electric_teachers","text":"Heller, J. L., Shinohara, M., Miratrix, L., Hesketh, S. R., Daehler, K. R. (2010). Learning science teaching: Effects professional development elementary teachers, classrooms, students. Proceedings Society Research Educational Effectiveness.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/electric_teachers.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Electric Circuits Professional Development Study Data — electric_teachers","text":"dataset comes study professional development programs elementary science teachers. Teachers randomly assigned different professional development conditions within site (stratified randomized experiment). outcome measures assess teachers' content knowledge electric circuits intervention. dataset can used demonstrate methods inference quantiles individual treatment effects stratified randomized experiments using CMRSS package.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/electric_teachers.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Electric Circuits Professional Development Study Data — electric_teachers","text":"","code":"data(electric_teachers)  # Basic exploration head(electric_teachers) #> # A tibble: 6 × 7 #>   Site   T.ID Tx    TxAny Per.1 Per.2  gain #>   <chr> <dbl> <chr> <dbl> <dbl> <dbl> <dbl> #> 1 S2     2083 C         1  53.3  66.7  13.3 #> 2 S2     2085 C         1  36.7  80    43.3 #> 3 S2     2086 C         1  30    83.3  53.3 #> 4 S2     2088 C         1  46.7  70    23.3 #> 5 S2     2090 C         1  40    60    20   #> 6 S2     2093 C         1  46.7  73.3  26.7 table(electric_teachers$Site, electric_teachers$Tx) #>      #>       A  B  C  D #>   S2  6  7 12 11 #>   S3 23 11  0  8 #>   S4  5  7  0  6 #>   S5  0  0  9  6 #>   S6 15  9  9 10 #>   S7  0  9  6 10 #>   S8  9 19  8 18  # Create treatment indicator for any treatment vs control Z <- electric_teachers$TxAny Y <- electric_teachers$gain block <- factor(electric_teachers$Site)  # Summary by treatment status tapply(Y, Z, mean) #>         0         1  #>  2.463333 22.235366   # Number of treated and control units per site table(block, Z) #>      Z #> block  0  1 #>    S2 11 25 #>    S3  8 34 #>    S4  6 12 #>    S5  6  9 #>    S6 10 33 #>    S7 10 15 #>    S8 18 36  if (FALSE) { # \\dontrun{ ##### Example 1: CRE Analysis (ignoring site stratification) #####  # Define Stephenson statistics with different s values s.vec <- c(2, 6, 10, 30) methods.list.cre <- lapply(s.vec, function(s) {   list(name = \"Stephenson\", s = s, std = TRUE, scale = TRUE) })  # Confidence intervals for effect quantiles among treated ci.treat <- com_conf_quant_larger_cre(Z, Y,                                       methods.list = methods.list.cre,                                       nperm = 10000,                                       set = \"treat\",                                       alpha = 0.05)  ##### Example 2: SRE Analysis (accounting for site stratification) #####  s <- length(levels(block))  # 7 sites  # Define polynomial rank statistics for each stratum r.vec <- c(2, 6, 10) methods.list.sre <- list() for (j in seq_along(r.vec)) {   methods.list.sre[[j]] <- lapply(1:s, function(i) {     list(name = \"Polynomial\", r = r.vec[j], std = TRUE, scale = FALSE)   }) }  # Confidence intervals accounting for stratification ci.treat.sre <- com_block_conf_quant_larger(Z, Y, block,                                             set = \"treat\",                                             methods.list.all = methods.list.sre,                                             weight.name = \"asymp.opt\",                                             opt.method = \"ILP\",                                             alpha = 0.05) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/get_default_solver.html","id":null,"dir":"Reference","previous_headings":"","what":"Get default solver — get_default_solver","title":"Get default solver — get_default_solver","text":"Returns default solver based availability. Prefers Gurobi available (maintain backward compatibility earlier versions/workflows), falls back HiGHS.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/get_default_solver.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get default solver — get_default_solver","text":"","code":"get_default_solver()"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/get_default_solver.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get default solver — get_default_solver","text":"Character string indicating available solver","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/get_default_solver.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get default solver — get_default_solver","text":"","code":"get_default_solver() #> [1] \"highs\""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/max_comb_matrix_block_stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Maximum of stratum-wise standardized statistics — max_comb_matrix_block_stratum","title":"Maximum of stratum-wise standardized statistics — max_comb_matrix_block_stratum","text":"Computes maximum standardized statistics among stratum across multiple methods.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/max_comb_matrix_block_stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Maximum of stratum-wise standardized statistics — max_comb_matrix_block_stratum","text":"","code":"max_comb_matrix_block_stratum(   Z,   Y,   block,   c,   methods.list.all,   scores.list.all = NULL,   block.sum = NULL,   weight )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/max_comb_matrix_block_stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Maximum of stratum-wise standardized statistics — max_comb_matrix_block_stratum","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. block n-dimensional vector specifying block membership. c Threshold null hypothesis. methods.list.list H method specifications. scores.list.Optional pre-computed scores. block.sum Optional pre-computed block summary. weight B-dimensional vector block weights.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/max_comb_matrix_block_stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Maximum of stratum-wise standardized statistics — max_comb_matrix_block_stratum","text":"list B matrices, one per block, containing maximum standardized test statistic values.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_berger_boos.html","id":null,"dir":"Reference","previous_headings":"","what":"Berger and Boos (1994) Method — method_berger_boos","title":"Berger and Boos (1994) Method — method_berger_boos","text":"Method using approach Berger Boos (1994) confidence intervals combine treated control inference.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_berger_boos.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Berger and Boos (1994) Method — method_berger_boos","text":"","code":"method_berger_boos(   Z,   Y,   N,   k_vec,   treat.method.list = list(name = \"Stephenson\", s = 6),   control.method.list = list(name = \"Stephenson\", s = 6),   simul = TRUE,   stat.null = NULL,   score = NULL,   Z.perm = NULL,   alpha = 0.05,   gamma = 0.5,   alpha.ratio.treat = 0.5,   ndraw = 10^5,   nperm = 10^4,   tol = 10^(-3) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_berger_boos.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Berger and Boos (1994) Method — method_berger_boos","text":"Z n-dimensional binary treatment assignment vector (1 = treated, 0 = control). Y n-dimensional observed outcome vector. N Population size generalization. Set length(Z) sample inference. k_vec Vector quantile ranks compute intervals . treat.method.list Method specification treated units. control.method.list Method specification control units. simul Logical; TRUE (default), compute simultaneous intervals. stat.null Optional pre-computed null distribution. score Optional pre-computed score vector. Z.perm Optional permutation matrix. alpha Significance level. gamma Proportion alpha hypergeometric correction. alpha.ratio.treat Proportion alpha allocated treated units. ndraw Number Monte Carlo draws hypergeometric correction. nperm Number permutations null distribution. tol Tolerance root-finding.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_berger_boos.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Berger and Boos (1994) Method — method_berger_boos","text":"data frame columns k, lower, upper, containing element-wise maximum treated control confidence limits.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_berger_boos.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Berger and Boos (1994) Method — method_berger_boos","text":"method separately computes confidence intervals treated control perspectives, takes element-wise maximum. provides conservative potentially robust interval.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_berger_boos.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Berger and Boos (1994) Method — method_berger_boos","text":"Berger, R. L. Boos, D. D. (1994). P Values Maximized Confidence Set Nuisance Parameter. Journal American Statistical Association, 89(427), 1012-1016.","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_berger_boos.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Berger and Boos (1994) Method — method_berger_boos","text":"","code":"if (FALSE) { # \\dontrun{ data(electric_teachers) Z <- electric_teachers$TxAny Y <- electric_teachers$gain n <- length(Z)  # Using Berger-Boos approach result <- method_berger_boos(Z, Y,                              N = n,                              k_vec = floor(c(0.6, 0.7, 0.8, 0.9) * n),                              treat.method.list = list(name = \"Stephenson\", s = 6),                              control.method.list = list(name = \"Stephenson\", s = 6),                              nperm = 10000,                              alpha = 0.05) print(result) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_caughey.html","id":null,"dir":"Reference","previous_headings":"","what":"Caughey et al. (2023) Method — method_caughey","title":"Caughey et al. (2023) Method — method_caughey","text":"Wrapper method Caughey et al. (2023) using RIQITE package. provides confidence intervals effect quantiles using single rank statistic.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_caughey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Caughey et al. (2023) Method — method_caughey","text":"","code":"method_caughey(   Z,   Y,   k_vec,   method.list = list(name = \"Wilcoxon\"),   nperm = 10^4,   alpha = 0.05 )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_caughey.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Caughey et al. (2023) Method — method_caughey","text":"Z n-dimensional binary treatment assignment vector (1 = treated, 0 = control). Y n-dimensional observed outcome vector. k_vec Vector quantile ranks compute intervals . method.list list specifying rank statistic method: name: \"Wilcoxon\" \"Stephenson\" s: (Stephenson) parameter s nperm Number permutations null distribution. alpha Significance level.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_caughey.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Caughey et al. (2023) Method — method_caughey","text":"data frame columns k, lower, upper.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_caughey.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Caughey et al. (2023) Method — method_caughey","text":"method based Caughey, Dafoe, Li, Miratrix (2023) uses RIQITE package implementation. provides simultaneous confidence intervals specified quantiles using single rank statistic.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_caughey.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Caughey et al. (2023) Method — method_caughey","text":"Caughey, D., Dafoe, ., Li, X., Miratrix, L. (2023). Randomization Inference Treatment Effect Quantiles. Journal American Statistical Association.","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_caughey.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Caughey et al. (2023) Method — method_caughey","text":"","code":"if (FALSE) { # \\dontrun{ data(electric_teachers) Z <- electric_teachers$TxAny Y <- electric_teachers$gain  # Using Stephenson statistic with s = 6 result <- method_caughey(Z, Y,                          k_vec = floor(c(0.7, 0.8, 0.9) * length(Z)),                          method.list = list(name = \"Stephenson\", s = 6),                          nperm = 10000,                          alpha = 0.05) print(result) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_chen_li.html","id":null,"dir":"Reference","previous_headings":"","what":"Chen and Li Combination Method — method_chen_li","title":"Chen and Li Combination Method — method_chen_li","text":"Method combining treated control inference using Bonferroni correction, based Chen Li (2024).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_chen_li.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Chen and Li Combination Method — method_chen_li","text":"","code":"method_chen_li(   Z,   Y,   N,   k_vec,   control.method.list = list(name = \"Stephenson\", s = 6),   treat.method.list = list(name = \"Stephenson\", s = 6),   simul = TRUE,   stat.null = NULL,   score = NULL,   Z.perm = NULL,   alpha = 0.05,   gamma = 0.5,   alpha.ratio.treat = 0.5,   ndraw = 10^5,   nperm = 10^4,   tol = 10^(-3) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_chen_li.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Chen and Li Combination Method — method_chen_li","text":"Z n-dimensional binary treatment assignment vector (1 = treated, 0 = control). Y n-dimensional observed outcome vector. N Population size generalization. Set length(Z) sample inference. k_vec Vector quantile ranks compute intervals . control.method.list Method specification control units. treat.method.list Method specification treated units. simul Logical; TRUE (default), compute simultaneous intervals. stat.null Optional pre-computed null distribution. score Optional pre-computed score vector. Z.perm Optional permutation matrix. alpha Significance level. gamma Proportion alpha hypergeometric correction. alpha.ratio.treat Proportion alpha allocated treated units. ndraw Number Monte Carlo draws hypergeometric correction. nperm Number permutations null distribution. tol Tolerance root-finding.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_chen_li.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Chen and Li Combination Method — method_chen_li","text":"data frame columns k, lower, upper.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_chen_li.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Chen and Li Combination Method — method_chen_li","text":"method combines inference treated control perspectives using Bonferroni-style correction. provides confidence intervals effect quantiles separately computing prediction intervals treated control units, combining . N > n (sample size), method incorporates hypergeometric correction generalize inference larger population.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_chen_li.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Chen and Li Combination Method — method_chen_li","text":"Chen, H. Li, X. (2024). Randomization Inference Quantile Treatment Effects Varying Numbers Treated Control Units.","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/method_chen_li.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Chen and Li Combination Method — method_chen_li","text":"","code":"if (FALSE) { # \\dontrun{ data(electric_teachers) Z <- electric_teachers$TxAny Y <- electric_teachers$gain n <- length(Z)  # Confidence intervals for all effect quantiles result <- method_chen_li(Z, Y,                          N = n,  # sample inference                          k_vec = 1:n,                          treat.method.list = list(name = \"Stephenson\", s = 6),                          control.method.list = list(name = \"Stephenson\", s = 6),                          nperm = 10000,                          alpha = 0.10) print(head(result)) } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_p_multiple_rank_sum.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate minimum p-value from multiple rank sum statistics — min_p_multiple_rank_sum","title":"Calculate minimum p-value from multiple rank sum statistics — min_p_multiple_rank_sum","text":"Computes minimum p-values calibrated distribution minimum tail probabilities.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_p_multiple_rank_sum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate minimum p-value from multiple rank sum statistics — min_p_multiple_rank_sum","text":"","code":"min_p_multiple_rank_sum(   Z,   Y,   k,   c,   methods.list,   Z.perm = NULL,   nperm,   stat.null.mult = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_p_multiple_rank_sum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate minimum p-value from multiple rank sum statistics — min_p_multiple_rank_sum","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. k Quantile index hypothesis. c Threshold null hypothesis. methods.list list method specifications. Z.perm Optional permutation matrix. nperm Number permutations null distribution. stat.null.mult Optional pre-computed null distribution matrix.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_p_multiple_rank_sum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate minimum p-value from multiple rank sum statistics — min_p_multiple_rank_sum","text":"numeric minimum p-value.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_stat.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute minimum test statistic — min_stat","title":"Compute minimum test statistic — min_stat","text":"Calculates minimum value rank sum statistic null hypothesis, assuming n-k treated units can effects greater c.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_stat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute minimum test statistic — min_stat","text":"","code":"min_stat(Z, Y, k, c, method.list = NULL, score = NULL, ind.sort.treat = NULL)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_stat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute minimum test statistic — min_stat","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. k Quantile index (1 n). c Threshold null hypothesis. method.list list specifying scoring method. score Optional pre-computed score vector. ind.sort.treat Optional pre-computed sorted treatment indices.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_stat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute minimum test statistic — min_stat","text":"minimum test statistic value.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/min_stat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Compute minimum test statistic — min_stat","text":"Caughey, D., Dafoe, ., Li, X., & Miratrix, L. (2023).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sd_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Block-wise means and standard deviations for multiple methods — mu_sd_block","title":"Block-wise means and standard deviations for multiple methods — mu_sd_block","text":"Computes mean standard deviation block multiple rank score methods.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sd_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Block-wise means and standard deviations for multiple methods — mu_sd_block","text":"","code":"mu_sd_block(   Z,   block,   methods.list.all,   scores.list.all = NULL,   weight,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sd_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Block-wise means and standard deviations for multiple methods — mu_sd_block","text":"Z n-dimensional binary treatment assignment vector. block n-dimensional vector specifying block membership. methods.list.list H method specifications, containing B block-specific methods. scores.list.Optional pre-computed scores. weight B-dimensional vector block weights. block.sum Optional pre-computed block summary.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sd_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Block-wise means and standard deviations for multiple methods — mu_sd_block","text":"list : mu_list List B vectors, length H block-wise means sig_list List B vectors, length H block-wise SDs","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute means and standard deviations for multiple statistics — mu_sigma_list","title":"Compute means and standard deviations for multiple statistics — mu_sigma_list","text":"Calculates mean standard deviation multiple weighted stratified rank sum statistics.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute means and standard deviations for multiple statistics — mu_sigma_list","text":"","code":"mu_sigma_list(   Z,   block,   weight,   methods.list.all,   scores.list.all = NULL,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute means and standard deviations for multiple statistics — mu_sigma_list","text":"Z n-dimensional binary treatment assignment vector. block n-dimensional vector specifying block membership. weight B-dimensional vector block weights. methods.list.list lists method specifications. scores.list.Optional pre-computed scores. block.sum Optional pre-computed block summary.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute means and standard deviations for multiple statistics — mu_sigma_list","text":"list components mu sigma, H-dimensional vector H statistics.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_single_weight_strat_rank_sum_stat.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute mean and standard deviation of stratified statistic — mu_sigma_single_weight_strat_rank_sum_stat","title":"Compute mean and standard deviation of stratified statistic — mu_sigma_single_weight_strat_rank_sum_stat","text":"Calculates mean standard deviation weighted stratified rank sum statistic null hypothesis.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_single_weight_strat_rank_sum_stat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute mean and standard deviation of stratified statistic — mu_sigma_single_weight_strat_rank_sum_stat","text":"","code":"mu_sigma_single_weight_strat_rank_sum_stat(   Z,   block,   method.list.all,   score.list.all = NULL,   weight,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_single_weight_strat_rank_sum_stat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute mean and standard deviation of stratified statistic — mu_sigma_single_weight_strat_rank_sum_stat","text":"Z n-dimensional binary treatment assignment vector. block n-dimensional vector specifying block membership. method.list.list method specifications, one per block. score.list.Optional pre-computed scores. weight B-dimensional vector block weights. block.sum Optional pre-computed block summary.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/mu_sigma_single_weight_strat_rank_sum_stat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute mean and standard deviation of stratified statistic — mu_sigma_single_weight_strat_rank_sum_stat","text":"list components: mu Overall weighted mean sigma Overall weighted standard deviation mu_weight Block-wise weighted means (mean_block * weight) mu_block Block-wise unweighted means sd_block Block-wise weighted standard deviations","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate null distribution for rank sum statistic — null_dist","title":"Generate null distribution for rank sum statistic — null_dist","text":"Computes randomization null distribution single rank sum statistic complete randomization.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate null distribution for rank sum statistic — null_dist","text":"","code":"null_dist(   n,   m,   method.list = NULL,   score = NULL,   nperm = 10^5,   Z.perm = NULL,   chunk_size = 1000 )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate null distribution for rank sum statistic — null_dist","text":"n Total number units. m Number treated units. method.list list specifying scoring method. score Optional pre-computed score vector. nperm Number permutations. Z.perm Optional pre-computed permutation matrix. chunk_size Integer chunk size used generate permutations Z.perm NULL. Smaller values use less memory.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate null distribution for rank sum statistic — null_dist","text":"numeric vector length nperm containing null distribution.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist_multiple.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate null distributions for multiple rank sum statistics — null_dist_multiple","title":"Generate null distributions for multiple rank sum statistics — null_dist_multiple","text":"Computes randomization null distribution multiple rank sum statistics simultaneously complete randomization.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist_multiple.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate null distributions for multiple rank sum statistics — null_dist_multiple","text":"","code":"null_dist_multiple(   n,   m,   methods.list = NULL,   nperm = 10^5,   Z.perm = NULL,   chunk_size = 1000 )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist_multiple.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate null distributions for multiple rank sum statistics — null_dist_multiple","text":"n Total number units. m Number treated units. methods.list list method specifications. nperm Number permutations. Z.perm Optional pre-computed permutation matrix. chunk_size Integer chunk size used generate permutations Z.perm NULL. Smaller values use less memory.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/null_dist_multiple.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate null distributions for multiple rank sum statistics — null_dist_multiple","text":"H x nperm matrix H number statistics.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/parse_opt_method.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse optimization method string — parse_opt_method","title":"Parse optimization method string — parse_opt_method","text":"Parses opt.method parameter determine solver exactness.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/parse_opt_method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse optimization method string — parse_opt_method","text":"","code":"parse_opt_method(opt.method)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/parse_opt_method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse optimization method string — parse_opt_method","text":"opt.method Character string specifying optimization method: \"ILP_gurobi\": Integer linear programming Gurobi \"LP_gurobi\": Linear programming relaxation Gurobi \"ILP_highs\": Integer linear programming HiGHS \"LP_highs\": Linear programming relaxation HiGHS \"ILP_auto\" \"ILP\": Integer linear programming auto-selected solver \"LP_auto\" \"LP\": Linear programming auto-selected solver","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/parse_opt_method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse optimization method string — parse_opt_method","text":"list : exact Logical indicating ILP (TRUE) LP (FALSE) solver Character string: \"gurobi\", \"highs\", \"auto\"","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/parse_opt_method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Parse optimization method string — parse_opt_method","text":"","code":"parse_opt_method(\"ILP_gurobi\")  # list(exact = TRUE, solver = \"gurobi\") #> $exact #> [1] TRUE #>  #> $solver #> [1] \"gurobi\" #>  parse_opt_method(\"LP_highs\")    # list(exact = FALSE, solver = \"highs\") #> $exact #> [1] FALSE #>  #> $solver #> [1] \"highs\" #>  parse_opt_method(\"ILP\")         # list(exact = TRUE, solver = \"auto\") #> $exact #> [1] TRUE #>  #> $solver #> [1] \"auto\" #>"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_sd.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard deviation for polynomial rank transformation — poly_sd","title":"Standard deviation for polynomial rank transformation — poly_sd","text":"Calculates standard deviation polynomial rank score parameter r using analytical formula.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_sd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard deviation for polynomial rank transformation — poly_sd","text":"","code":"poly_sd(r)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_sd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standard deviation for polynomial rank transformation — poly_sd","text":"r Power parameter polynomial rank transformation.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_sd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standard deviation for polynomial rank transformation — poly_sd","text":"Standard deviation value.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_strata_sd.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard deviation of stratum-specific polynomial rank statistics — poly_strata_sd","title":"Standard deviation of stratum-specific polynomial rank statistics — poly_strata_sd","text":"Calculates standard deviation polynomial rank statistics within stratum.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_strata_sd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard deviation of stratum-specific polynomial rank statistics — poly_strata_sd","text":"","code":"poly_strata_sd(method.list.all)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_strata_sd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standard deviation of stratum-specific polynomial rank statistics — poly_strata_sd","text":"method.list.list method specifications, one per block.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/poly_strata_sd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standard deviation of stratum-specific polynomial rank statistics — poly_strata_sd","text":"vector standard deviations, one per stratum.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_comb_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Combined test statistic and combined p-value for randomization test for quantiles of individual treatment effects — pval_comb_block","title":"Combined test statistic and combined p-value for randomization test for quantiles of individual treatment effects — pval_comb_block","text":"Obtain combined stratified rank sum statistic combined p-value testing given null hypothesis H0: \\(\\tau_{(k)} \\leq c\\), \\(H0: \\tau_{(k)} \\geq c\\), \\(H0: \\tau_{(k)} = c\\), \\(\\tau_{(k)}\\) denotes individual treatment effect rank k.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_comb_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combined test statistic and combined p-value for randomization test for quantiles of individual treatment effects — pval_comb_block","text":"","code":"pval_comb_block(   Z,   Y,   k,   c,   block,   methods.list.all,   weight.name = \"asymp.opt\",   stat.null = NULL,   null.max = 10^5,   statistic = TRUE,   opt.method = \"ILP_auto\",   comb.method = 1 )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_comb_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combined test statistic and combined p-value for randomization test for quantiles of individual treatment effects — pval_comb_block","text":"Z \\(n\\) dimensional treatment assignment vector. Y \\(n\\) dimensional observed outcome vector. k integer 1 n specifying quantile individual effect interest. c numerical object specifying threshold null hypothesis. block \\(n\\) dimensional vector specifying block units. methods.list.list lists lists. Corresponds method stratum different stratified rank sum statistic. weight.name Weighting method implemented. \"asymp.opt\", asymptotically optimal scheme class local alternatives adjusted, \"dist.free\", design-free scheme adjusted. stat.null vector whose empirical distribution approximates randomization distribution combined stratified rank sum statistic. null.max positive integer representing number permutations approximating randomization distribution rank sum statistic. statistic logical; TRUE (default), also prints combined stratified rank sum statistic. opt.method Optimization method. Options include: \"ILP_gurobi\": Integer linear programming Gurobi solver \"LP_gurobi\": Linear programming relaxation Gurobi solver \"ILP_highs\": Integer linear programming HiGHS solver (open-source) \"LP_highs\": Linear programming relaxation HiGHS solver \"ILP\" \"ILP_auto\": Integer LP auto-selected solver \"LP\" \"LP_auto\": Linear programming auto-selected solver HiGHS recommended users without Gurobi license. solvers produce equivalent results. comb.method Integer specifying combination method: 1: Combine statistics across strata first, take maximum across methods (default) 2: Take maximum across methods within stratum first, combine across strata","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_comb_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combined test statistic and combined p-value for randomization test for quantiles of individual treatment effects — pval_comb_block","text":"p-value (test statistic) testing specified null hypothesis interest.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_comb_block.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Combined test statistic and combined p-value for randomization test for quantiles of individual treatment effects — pval_comb_block","text":"","code":"if (FALSE) { # \\dontrun{ # Load the electric teachers dataset data(electric_teachers)  # Set up treatment, outcome, and blocking variable Z <- electric_teachers$TxAny Y <- electric_teachers$gain block <- factor(electric_teachers$Site) n <- length(Y) s <- length(levels(block))  # number of strata  # Define polynomial rank statistics with different r values # Each method must be specified for each stratum r.vec <- c(2, 6, 10) methods.list.all <- list() for (j in seq_along(r.vec)) {   methods.list.all[[j]] <- lapply(1:s, function(i) {     list(name = \"Polynomial\", r = r.vec[j], std = TRUE, scale = FALSE)   }) }  # Test if the 90th percentile effect is <= 0 k <- floor(0.9 * n) result <- pval_comb_block(Z, Y, k, c = 0, block, methods.list.all,                           opt.method = \"ILP\", null.max = 10000) print(result)  # Using stratum-level combination method (comb.method = 2) result2 <- pval_comb_block(Z, Y, k, c = 0, block, methods.list.all,                            opt.method = \"ILP\", comb.method = 2)  # Using LP relaxation (faster, conservative) result3 <- pval_comb_block(Z, Y, k, c = 0, block, methods.list.all,                            opt.method = \"LP\") } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_cre.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate p-value for single method — pval_cre","title":"Calculate p-value for single method — pval_cre","text":"Computes p-value assuming n-k treated units effects > c, using single rank sum statistic.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_cre.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate p-value for single method — pval_cre","text":"","code":"pval_cre(   Z,   Y,   k,   c,   method.list,   score = NULL,   stat.null = NULL,   nperm = 10^3,   Z.perm = NULL,   ind.sort.treat = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_cre.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate p-value for single method — pval_cre","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. k Quantile index hypothesis. c Threshold null hypothesis. method.list list specifying rank score method. score Optional pre-computed score vector. stat.null Optional pre-computed null distribution. nperm Number permutations null distribution. Z.perm Optional permutation matrix. ind.sort.treat Optional sorted indices treated units.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/pval_cre.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate p-value for single method — pval_cre","text":"numeric p-value.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate rank scores — rank_score","title":"Calculate rank scores — rank_score","text":"Computes rank scores rank-based test statistics. Supports Wilcoxon, Stephenson, Polynomial rank scores.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate rank scores — rank_score","text":"","code":"rank_score(   n,   method.list = list(name = \"Polynomial\", r, std = TRUE, scale = FALSE) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate rank scores — rank_score","text":"n Number units. method.list list specifying scoring method: name: \"Wilcoxon\", \"Stephenson\", \"Polynomial\" s: (Stephenson) parameter s r: (Polynomial) power parameter std: (Polynomial) logical, use Puri(1965) normalization scale: logical, standardize scores mean 0 sd 1","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate rank scores — rank_score","text":"numeric vector length n containing rank scores.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate rank scores — rank_score","text":"Polynomial scores optionally use Puri(1965) normalization. Stephenson scores use binomial coefficients. Wilcoxon scores simply ranks 1 n.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score_riqite.html","id":null,"dir":"Reference","previous_headings":"","what":"Rank score function for comparison methods — rank_score_riqite","title":"Rank score function for comparison methods — rank_score_riqite","text":"Computes rank scores Wilcoxon Stephenson statistics. version normalizes scores maximum value, matching RIQITE package convention.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score_riqite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rank score function for comparison methods — rank_score_riqite","text":"","code":"rank_score_riqite(n, method.list = list(name = \"Wilcoxon\"))"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score_riqite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rank score function for comparison methods — rank_score_riqite","text":"n Number units. method.list list specifying scoring method: name: \"Wilcoxon\" \"Stephenson\" s: (Stephenson) parameter s","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/rank_score_riqite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rank score function for comparison methods — rank_score_riqite","text":"numeric vector length n containing normalized rank scores.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_all_blocks.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute scores for all blocks — score_all_blocks","title":"Compute scores for all blocks — score_all_blocks","text":"Computes rank scores block according block-specific methods.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_all_blocks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute scores for all blocks — score_all_blocks","text":"","code":"score_all_blocks(nb, method.list.all)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_all_blocks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute scores for all blocks — score_all_blocks","text":"nb Vector block sizes. method.list.list method specifications, one per block.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_all_blocks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute scores for all blocks — score_all_blocks","text":"list score vectors, one per block.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute stratum-specific scores for multiple methods — score_stratum","title":"Compute stratum-specific scores for multiple methods — score_stratum","text":"Generates score vectors single stratum multiple methods.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute stratum-specific scores for multiple methods — score_stratum","text":"","code":"score_stratum(n, methods.list)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute stratum-specific scores for multiple methods — score_stratum","text":"n Number units stratum. methods.list list H method specifications stratum.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/score_stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute stratum-specific scores for multiple methods — score_stratum","text":"list H score vectors.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_max_rank_sum_stat_stratum.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratum-specific weighted maximum rank sum statistic — single_weight_max_rank_sum_stat_stratum","title":"Stratum-specific weighted maximum rank sum statistic — single_weight_max_rank_sum_stat_stratum","text":"Calculates weighted maximum rank sum statistic single stratum across multiple methods.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_max_rank_sum_stat_stratum.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratum-specific weighted maximum rank sum statistic — single_weight_max_rank_sum_stat_stratum","text":"","code":"single_weight_max_rank_sum_stat_stratum(   Z,   Y,   methods.list,   score.list = NULL,   mu_vec,   sig_vec,   weight.b )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_max_rank_sum_stat_stratum.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratum-specific weighted maximum rank sum statistic — single_weight_max_rank_sum_stat_stratum","text":"Z Treatment assignment vector stratum. Y Outcome vector stratum. methods.list list H method specifications. score.list Optional pre-computed scores. mu_vec Vector H means. sig_vec Vector H standard deviations. weight.b Weight stratum.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_max_rank_sum_stat_stratum.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratum-specific weighted maximum rank sum statistic — single_weight_max_rank_sum_stat_stratum","text":"Weighted maximum test statistic value.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_strat_rank_sum_stat.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute weighted stratified rank sum statistic — single_weight_strat_rank_sum_stat","title":"Compute weighted stratified rank sum statistic — single_weight_strat_rank_sum_stat","text":"Calculates single weighted stratified rank sum statistic combining block-specific statistics.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_strat_rank_sum_stat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute weighted stratified rank sum statistic — single_weight_strat_rank_sum_stat","text":"","code":"single_weight_strat_rank_sum_stat(   Z,   Y,   block,   method.list.all,   score.list.all = NULL,   weight,   block.sum = NULL )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_strat_rank_sum_stat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute weighted stratified rank sum statistic — single_weight_strat_rank_sum_stat","text":"Z n-dimensional binary treatment assignment vector. Y n-dimensional observed outcome vector. block n-dimensional vector specifying block membership. method.list.list method specifications, one per block. score.list.Optional pre-computed scores. weight B-dimensional vector block weights. block.sum Optional pre-computed block summary.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/single_weight_strat_rank_sum_stat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute weighted stratified rank sum statistic — single_weight_strat_rank_sum_stat","text":"scalar test statistic value.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_optimization.html","id":null,"dir":"Reference","previous_headings":"","what":"Unified solver wrapper — solve_optimization","title":"Unified solver wrapper — solve_optimization","text":"unified interface solving optimization problem using either Gurobi HiGHS solver.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_optimization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unified solver wrapper — solve_optimization","text":"","code":"solve_optimization(   Z,   block,   weight,   coeflists,   p,   ms_list,   exact = TRUE,   block.sum = NULL,   solver = \"auto\" )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_optimization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unified solver wrapper — solve_optimization","text":"Z n-dimensional treatment assignment vector. block n-dimensional vector specifying block unit. weight B-dimensional vector block weights. coeflists list H elements, containing B matrices block-specific test statistics different values k. p Upper bound number units effects greater c. ms_list list containing mu (means) sigma (standard deviations) test statistic. exact Logical; TRUE, solve integer linear program (ILP). FALSE, solve linear program (LP relaxation). block.sum Optional pre-computed block summary summary_block(). solver Character string specifying solver use. Options : \"auto\": Automatically select available solver (default) \"highs\": Use HiGHS solver (open-source) \"gurobi\": Use Gurobi solver (commercial, requires license)","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_optimization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unified solver wrapper — solve_optimization","text":"list : sol Solution vector obj Optimal objective value solver solver used","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_optimization.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Unified solver wrapper — solve_optimization","text":"function provides unified interface solvers. solver = \"auto\", prefer Gurobi available (backward compatibility), otherwise fall back HiGHS. solvers produce equivalent results optimization problem, though may minor numerical differences (typically < 1e-6) due different internal algorithms.","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_optimization.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Unified solver wrapper — solve_optimization","text":"","code":"if (FALSE) { # \\dontrun{ # Automatically select solver result <- solve_optimization(Z, block, weight, coeflists, p, ms_list)  # Explicitly use HiGHS result <- solve_optimization(Z, block, weight, coeflists, p, ms_list, solver = \"highs\")  # Explicitly use Gurobi result <- solve_optimization(Z, block, weight, coeflists, p, ms_list, solver = \"gurobi\") } # }"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_stratum_optimization.html","id":null,"dir":"Reference","previous_headings":"","what":"Unified solver wrapper for stratum-level optimization — solve_stratum_optimization","title":"Unified solver wrapper for stratum-level optimization — solve_stratum_optimization","text":"unified interface solving stratum-level optimization problem using either Gurobi HiGHS solver.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_stratum_optimization.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Unified solver wrapper for stratum-level optimization — solve_stratum_optimization","text":"","code":"solve_stratum_optimization(coeflist, p, exact = TRUE, solver = \"auto\")"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_stratum_optimization.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Unified solver wrapper for stratum-level optimization — solve_stratum_optimization","text":"coeflist list B matrices containing stratum-wise standardized test statistics different coverage scenarios. p Upper bound number units effects greater c. exact Logical; TRUE, solve integer linear program (ILP). FALSE, solve linear program (LP relaxation). solver Character string specifying solver use: \"auto\", \"highs\", \"gurobi\".","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solve_stratum_optimization.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Unified solver wrapper for stratum-level optimization — solve_stratum_optimization","text":"list : sol Solution vector obj Optimal objective value solver solver used","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solver_available.html","id":null,"dir":"Reference","previous_headings":"","what":"Solver Utilities for CMRSS Package — solver_available","title":"Solver Utilities for CMRSS Package — solver_available","text":"package supports two optimization solvers: Gurobi: Commercial solver (requires license). Fast robust. HiGHS: Open-source solver. license required, good performance. solvers produce equivalent results optimization problem. HiGHS recommended users without Gurobi license. Check solver available","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solver_available.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Solver Utilities for CMRSS Package — solver_available","text":"","code":"solver_available(solver)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solver_available.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Solver Utilities for CMRSS Package — solver_available","text":"solver Character string: \"gurobi\" \"highs\"","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solver_available.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Solver Utilities for CMRSS Package — solver_available","text":"Logical indicating solver available","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solver_available.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Solver Utilities for CMRSS Package — solver_available","text":"file contains optimization solver functions solving integer/linear programming problems stratified randomized experiments. supports Gurobi HiGHS solvers.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/solver_available.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Solver Utilities for CMRSS Package — solver_available","text":"","code":"solver_available(\"highs\") solver_available(\"gurobi\")"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/sort_treat.html","id":null,"dir":"Reference","previous_headings":"","what":"Sort treated units by outcome rank — sort_treat","title":"Sort treated units by outcome rank — sort_treat","text":"Returns indices treated units sorted outcome values increasing order.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/sort_treat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sort treated units by outcome rank — sort_treat","text":"","code":"sort_treat(Y, Z)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/sort_treat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sort treated units by outcome rank — sort_treat","text":"Y n-dimensional observed outcome vector. Z n-dimensional binary treatment assignment vector.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/sort_treat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sort treated units by outcome rank — sort_treat","text":"Integer vector indices treated units, sorted increasing outcome.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/summary_block.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize block structure — summary_block","title":"Summarize block structure — summary_block","text":"Computes summary statistics stratified randomized experiment, including number blocks, units per block, treated units per block.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/summary_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize block structure — summary_block","text":"","code":"summary_block(Z, block)"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/summary_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize block structure — summary_block","text":"Z n-dimensional binary treatment assignment vector. block n-dimensional vector factor specifying block membership.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/summary_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize block structure — summary_block","text":"list components: block block factor B Number blocks nb Vector block sizes mb Vector treated units per block mb_ctrl Vector control units per block units.block List unit indices per block block.levels Levels block factor","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/threshold_correct_hypergeom.html","id":null,"dir":"Reference","previous_headings":"","what":"Threshold for hypergeometric correction — threshold_correct_hypergeom","title":"Threshold for hypergeometric correction — threshold_correct_hypergeom","text":"Calculates correction term Delta using proposed choice kk.vec generalizing inference larger populations.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/threshold_correct_hypergeom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Threshold for hypergeometric correction — threshold_correct_hypergeom","text":"","code":"threshold_correct_hypergeom(   N = 100,   n = 50,   K.vec = c(60, 80),   alpha = 0.05,   ndraw = 10^4,   hg.draw = NULL,   tol = 10^(-2) )"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/threshold_correct_hypergeom.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Threshold for hypergeometric correction — threshold_correct_hypergeom","text":"N Population size. n Sample size. K.vec Vector quantile ranks population. alpha Significance level. ndraw Number draws Monte Carlo approximation. hg.draw Optional pre-computed hypergeometric draws. tol Tolerance bisection search.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/threshold_correct_hypergeom.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Threshold for hypergeometric correction — threshold_correct_hypergeom","text":"list : kappa correction factor prob resulting probability kk.vec adjusted sample quantile ranks","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/weight_scheme.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute block weights — weight_scheme","title":"Compute block weights — weight_scheme","text":"Computes weights combining block-specific statistics according specified weighting scheme.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/weight_scheme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute block weights — weight_scheme","text":"","code":"weight_scheme(block.sum, weight.name = \"asymp.opt\")"},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/weight_scheme.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute block weights — weight_scheme","text":"block.sum block summary object summary_block. weight.name Weighting scheme: \"asymp.opt\" asymptotically optimal weights, \"dis.free\" distribution-free weights.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/reference/weight_scheme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute block weights — weight_scheme","text":"B-dimensional vector block weights.","code":""},{"path":[]},{"path":"https://bowers-illinois-edu.github.io/CMRSS/news/index.html","id":"performance-0-2-5","dir":"Changelog","previous_headings":"","what":"Performance","title":"CMRSS 0.2.5","text":"CRE null generation (null_dist(), null_dist_multiple()) now streams permutations chunks Z.perm supplied (new chunk_size argument). SRE null generation (com_null_dist_block(), com_null_dist_block_stratum()) now generates permutations chunks Z.perm supplied (new chunk_size argument). summary_block() now builds units.block via split() (reduces O(n·B) scanning O(n)). Block-randomized chunk generation uses fast paths common small-block cases (e.g., mb == 1, mb == nb - 1) internal cache small combn(nb, mb) patterns. com_null_dist_block_stratum() now computes per-block statistics matrix operations instead per-permutation nested loops. Solver constraint triplets now assembled via list accumulation rather repeated c() growth. ci_lower_quantile_generalize() longer grows results repeated rbind() inside loop.","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/news/index.html","id":"bug-fixes-0-2-5","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"CMRSS 0.2.5","text":"rank_score() consistently returns numeric vector (avoids 1-column matrix output scale = TRUE).","code":""},{"path":"https://bowers-illinois-edu.github.io/CMRSS/news/index.html","id":"testing-0-2-5","dir":"Changelog","previous_headings":"","what":"Testing","title":"CMRSS 0.2.5","text":"Added unit tests internal block-permutation chunk generation equivalence vectorized com_null_dist_block_stratum() implementation naive reference computation.","code":""}]
