<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Combining Multiple Rank Sum Statistics â€¢ CMRSS</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Combining Multiple Rank Sum Statistics">
<meta name="description" content="Randomization inference for quantiles of individual treatment effects using combined rank sum statistics. Supports both completely randomized experiments (CRE) and stratified randomized experiments (SRE). The optimization can be performed using either the open-source HiGHS solver or the commercial Gurobi solver.">
<meta property="og:description" content="Randomization inference for quantiles of individual treatment effects using combined rank sum statistics. Supports both completely randomized experiments (CRE) and stratified randomized experiments (SRE). The optimization can be performed using either the open-source HiGHS solver or the commercial Gurobi solver.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">CMRSS</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.5</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bowers-illinois-edu/CMRSS/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="combining-multiple-rank-sum-statistics">Combining Multiple Rank Sum Statistics<a class="anchor" aria-label="anchor" href="#combining-multiple-rank-sum-statistics"></a>
</h1></div>
<!-- badges: start -->

<blockquote>
<p>R package for conducting randomization inference for quantiles of individual treatment effects, using combined rank sum statistics, both for completely randomized and stratified randomized experiments</p>
</blockquote>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"jwbowers/CMRSS"</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="solver-dependencies">Solver Dependencies<a class="anchor" aria-label="anchor" href="#solver-dependencies"></a>
</h3>
<p>For stratified randomized experiments (SRE), the package requires an optimization solver. You have two options:</p>
<p><strong>Option 1: HiGHS (Recommended - Open Source)</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"highs"</span><span class="op">)</span></span></code></pre></div>
<p>HiGHS is a high-performance open-source solver that requires no license.</p>
<p><strong>Option 2: Gurobi (Commercial)</strong></p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Requires a Gurobi license (free for academics)</span></span>
<span><span class="co"># See: https://www.gurobi.com/documentation/current/quickstart_mac/r_ins_the_r_package.html</span></span></code></pre></div>
<p>Both solvers produce equivalent results. HiGHS is recommended for users without a Gurobi license.</p>
</div>
</div>
<div class="section level2">
<h2 id="load-the-package">Load the Package<a class="anchor" aria-label="anchor" href="#load-the-package"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bowers-illinois-edu.github.io/CMRSS/">CMRSS</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start-stratified-randomized-experiments">Quick Start: Stratified Randomized Experiments<a class="anchor" aria-label="anchor" href="#quick-start-stratified-randomized-experiments"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Example: Testing treatment effects in a stratified experiment</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Create data</span></span>
<span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fl">5</span>  <span class="co"># number of strata</span></span>
<span><span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="co"># units per stratum</span></span>
<span><span class="va">N</span> <span class="op">&lt;-</span> <span class="va">s</span> <span class="op">*</span> <span class="va">n</span></span>
<span></span>
<span><span class="va">block</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">s</span>, each <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">Z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">N</span><span class="op">)</span></span>
<span><span class="kw">for</span> <span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span><span class="va">s</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">block_idx</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/which.html" class="external-link">which</a></span><span class="op">(</span><span class="va">block</span> <span class="op">==</span> <span class="va">i</span><span class="op">)</span></span>
<span>  <span class="va">Z</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">block_idx</span>, <span class="va">n</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">Y0</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span></span>
<span><span class="va">Y1</span> <span class="op">&lt;-</span> <span class="va">Y0</span> <span class="op">+</span> <span class="fl">1</span>  <span class="co"># constant treatment effect of 1</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="va">Z</span> <span class="op">*</span> <span class="va">Y1</span> <span class="op">+</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">Z</span><span class="op">)</span> <span class="op">*</span> <span class="va">Y0</span></span>
<span></span>
<span><span class="co"># Set up methods (Wilcoxon scores)</span></span>
<span><span class="va">methods.list.all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">methods.list.all</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">s</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Wilcoxon"</span>, scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compute p-value using HiGHS solver</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pval_comb_block.html">pval_comb_block</a></span><span class="op">(</span><span class="va">Z</span>, <span class="va">Y</span>, k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fl">0.9</span> <span class="op">*</span> <span class="va">N</span><span class="op">)</span>, c <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                          <span class="va">block</span>, <span class="va">methods.list.all</span>,</span>
<span>                          opt.method <span class="op">=</span> <span class="st">"ILP_highs"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">result</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="solver-options">Solver Options<a class="anchor" aria-label="anchor" href="#solver-options"></a>
</h2>
<p>The <code>opt.method</code> parameter controls which optimization solver to use:</p>
<table class="table">
<colgroup>
<col width="48%">
<col width="52%">
</colgroup>
<thead><tr class="header">
<th>opt.method</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>"ILP_highs"</code></td>
<td>Integer linear programming with HiGHS (open-source)</td>
</tr>
<tr class="even">
<td><code>"LP_highs"</code></td>
<td>Linear programming relaxation with HiGHS</td>
</tr>
<tr class="odd">
<td><code>"ILP_gurobi"</code></td>
<td>Integer linear programming with Gurobi</td>
</tr>
<tr class="even">
<td><code>"LP_gurobi"</code></td>
<td>Linear programming relaxation with Gurobi</td>
</tr>
<tr class="odd">
<td>
<code>"ILP"</code> or <code>"ILP_auto"</code>
</td>
<td>Auto-select available solver (prefers Gurobi)</td>
</tr>
<tr class="even">
<td>
<code>"LP"</code> or <code>"LP_auto"</code>
</td>
<td>Auto-select for LP relaxation</td>
</tr>
</tbody>
</table>
<div class="section level3">
<h3 id="checking-solver-availability">Checking Solver Availability<a class="anchor" aria-label="anchor" href="#checking-solver-availability"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check which solvers are installed</span></span>
<span><span class="fu"><a href="reference/solver_available.html">solver_available</a></span><span class="op">(</span><span class="st">"highs"</span><span class="op">)</span>   <span class="co"># TRUE if highs package is installed</span></span>
<span><span class="fu"><a href="reference/solver_available.html">solver_available</a></span><span class="op">(</span><span class="st">"gurobi"</span><span class="op">)</span>  <span class="co"># TRUE if gurobi package is installed</span></span>
<span></span>
<span><span class="co"># Get the default solver</span></span>
<span><span class="fu"><a href="reference/get_default_solver.html">get_default_solver</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Returns "highs" or "gurobi"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="comparing-solvers">Comparing Solvers<a class="anchor" aria-label="anchor" href="#comparing-solvers"></a>
</h3>
<p>Both HiGHS and Gurobi produce equivalent results. You can verify this:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Same results with different solvers</span></span>
<span><span class="va">result_highs</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pval_comb_block.html">pval_comb_block</a></span><span class="op">(</span><span class="va">Z</span>, <span class="va">Y</span>, <span class="va">k</span>, <span class="va">c</span>, <span class="va">block</span>, <span class="va">methods.list.all</span>,</span>
<span>                                opt.method <span class="op">=</span> <span class="st">"ILP_highs"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">result_gurobi</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pval_comb_block.html">pval_comb_block</a></span><span class="op">(</span><span class="va">Z</span>, <span class="va">Y</span>, <span class="va">k</span>, <span class="va">c</span>, <span class="va">block</span>, <span class="va">methods.list.all</span>,</span>
<span>                                 opt.method <span class="op">=</span> <span class="st">"ILP_gurobi"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># These should be equal (up to numerical precision)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/all.equal.html" class="external-link">all.equal</a></span><span class="op">(</span><span class="va">result_highs</span>, <span class="va">result_gurobi</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="main-functions">Main Functions<a class="anchor" aria-label="anchor" href="#main-functions"></a>
</h2>
<div class="section level3">
<h3 id="completely-randomized-experiments-cre">Completely Randomized Experiments (CRE)<a class="anchor" aria-label="anchor" href="#completely-randomized-experiments-cre"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">comb_p_val_cre</span>              <span class="co"># Get p-value from combined statistics in CRE</span></span>
<span><span class="op">?</span><span class="va">com_conf_quant_larger_cre</span>   <span class="co"># Get confidence intervals for quantiles in CRE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="stratified-randomized-experiments-sre">Stratified Randomized Experiments (SRE)<a class="anchor" aria-label="anchor" href="#stratified-randomized-experiments-sre"></a>
</h3>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">pval_comb_block</span>             <span class="co"># Get p-value from combined statistics in SRE</span></span>
<span><span class="op">?</span><span class="va">com_block_conf_quant_larger</span> <span class="co"># Get confidence intervals for quantiles in SRE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="solver-utilities">Solver Utilities<a class="anchor" aria-label="anchor" href="#solver-utilities"></a>
</h3>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="va">solve_optimization</span>   <span class="co"># Unified optimization interface</span></span>
<span><span class="op">?</span><span class="va">solver_available</span>     <span class="co"># Check if a solver is available</span></span>
<span><span class="op">?</span><span class="va">get_default_solver</span>   <span class="co"># Get the default solver</span></span>
<span><span class="op">?</span><span class="va">parse_opt_method</span>     <span class="co"># Parse optimization method string</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="example-1-p-value-calculation">Example 1: P-value Calculation<a class="anchor" aria-label="anchor" href="#example-1-p-value-calculation"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://bowers-illinois-edu.github.io/CMRSS/">CMRSS</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Setup</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">42</span><span class="op">)</span></span>
<span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fl">4</span>; <span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">8</span>; <span class="va">N</span> <span class="op">&lt;-</span> <span class="va">s</span> <span class="op">*</span> <span class="va">n</span></span>
<span><span class="va">block</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">s</span>, each <span class="op">=</span> <span class="va">n</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">Z</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html" class="external-link">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">s</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">n</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">n</span><span class="op">/</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">Y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="va">N</span><span class="op">)</span> <span class="op">+</span> <span class="va">Z</span> <span class="op">*</span> <span class="fl">0.8</span>  <span class="co"># Treatment effect of 0.8</span></span>
<span></span>
<span><span class="co"># Methods: combine Wilcoxon and Stephenson scores</span></span>
<span><span class="va">methods.list.all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">s</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Wilcoxon"</span>, scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">s</span>, <span class="kw">function</span><span class="op">(</span><span class="va">i</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Stephenson"</span>, s <span class="op">=</span> <span class="fl">3</span>, scale <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Test H0: tau_(k) &lt;= 0 at 90th percentile</span></span>
<span><span class="va">result</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/pval_comb_block.html">pval_comb_block</a></span><span class="op">(</span><span class="va">Z</span>, <span class="va">Y</span>, k <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">floor</a></span><span class="op">(</span><span class="fl">0.9</span> <span class="op">*</span> <span class="va">N</span><span class="op">)</span>, c <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                          <span class="va">block</span>, <span class="va">methods.list.all</span>,</span>
<span>                          opt.method <span class="op">=</span> <span class="st">"ILP_highs"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"P-value:"</span>, <span class="va">result</span><span class="op">[</span><span class="st">"p.value"</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Test statistic:"</span>, <span class="va">result</span><span class="op">[</span><span class="st">"test.stat"</span><span class="op">]</span>, <span class="st">"\n"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example-2-confidence-intervals">Example 2: Confidence Intervals<a class="anchor" aria-label="anchor" href="#example-2-confidence-intervals"></a>
</h3>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compute simultaneous confidence intervals for treatment effect quantiles</span></span>
<span><span class="va">ci</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/com_block_conf_quant_larger.html">com_block_conf_quant_larger</a></span><span class="op">(</span><span class="va">Z</span>, <span class="va">Y</span>, <span class="va">block</span>,</span>
<span>                                  set <span class="op">=</span> <span class="st">"treat"</span>,  <span class="co"># for treated units</span></span>
<span>                                  methods.list.all <span class="op">=</span> <span class="va">methods.list.all</span>,</span>
<span>                                  opt.method <span class="op">=</span> <span class="st">"ILP_highs"</span>,</span>
<span>                                  alpha <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">ci</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li>Kim, D. and Li, X. (2024). Combining Multiple Rank Sum Statistics for Inference on Treatment Effect Quantiles.</li>
</ul>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>MIT License</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/bowers-illinois-edu/CMRSS/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/bowers-illinois-edu/CMRSS/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing CMRSS</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>David Kim <br><small class="roles"> Author, maintainer </small>   </li>
<li>Xinran Li <br><small class="roles"> Author </small>   </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/jwbowers/CMRSS/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/jwbowers/CMRSS/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Kim, Xinran Li.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
